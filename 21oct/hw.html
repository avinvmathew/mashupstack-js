<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classwork-comment section filtering</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

</head>
<body class="bg-warning">

<!-- You are creating a simple comment filtering system for a blog site. You need to write a JavaScript function that
takes a user's comment and performs the following:
Check whether the comment contains any of the following banned words: "bad", "ugly", or "stupid" (case-insensitive).
If it contains a banned word, replace it with "***" using a regular expression.
Count how many numbers are mentioned in the comment.
Count how many words in the comment begin with a capital letter.
Return a final message with the cleaned comment, number count, and capitalized word count.
Test the function with this comment:
"I think this movie was BAD and 100% Stupid! But the Acting was Amazing and 3 actors were great. -->


    <div class="row text-center">
        <h1>Comments ?</h1>
    </div>
    <div class="row justify-content-center">
        <div class="mb-3 w-50">
            <label for="Textarea1" class="form-label">Comment section</label>
            <textarea class="form-control" id="Textarea1" rows="3"></textarea>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-auto">
            <button type="submit" class="btn btn-primary mb-3" onclick="submitfn()">Submit</button>
        </div>
    </div>
    <div class="row text-center">
        <h1>Answer : <span id="ans"></span></h1>
    </div>
    <script>
        function submitfn(){
            var comment_str = document.getElementById("Textarea1").value
            console.log(`${comment_str}`)

            var num_patt = /\d+/g
            var no_of_nums = (comment_str.match(num_patt)).length

            var cap_words_patt = /[A-Z]+/g
            var no_of_cap_words = (comment_str.match(cap_words_patt)).length


            var bad_words = /\b(bad|ugly|stupid)([!?.]*)/gi;
            var bad_words_match = bad_words.test(comment_str)
            if(bad_words_match)
            {
                // console.log("Comment contains digits!")
                var replaced_comment = comment_str.replace(bad_words,"***$2")
                console.log(replaced_comment)
                document.getElementById("ans").innerHTML = `${replaced_comment}<br>Number of numbers : ${no_of_nums}<br>Number of words with capital letter : ${no_of_cap_words}`
            }
            else{
                console.log("Comment does not contain bad words")
            }

        }
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

</body>
</html>